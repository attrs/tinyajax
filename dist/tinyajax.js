!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("tinyajax",[],t):"object"==typeof exports?exports.tinyajax=t():e.tinyajax=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var s=o[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){e.exports=function(e,t,o){if(!e)throw new Error("missing src");2==arguments.length&&"function"!=typeof t&&(o=t,t=null),"boolean"==typeof o&&(o={sync:o});var n,s,r=(o&&o.sync)===!0,i=o&&o.method||"GET";scope=o&&o.scope||this;var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(a.open(i,e,!r),o){for(var p in o.headers)a.setRequestHeader(p,o.headers);o.mimetype&&a.overrideMimeType(o.mimetype)}if(a.onreadystatechange=function(e){4==this.readyState&&(0==this.status||this.status>=200&&this.status<300?(n=this.responseText,t&&t.call(scope,null,n,a)):(s=new Error("["+this.status+"] "+this.responseText),t&&t.call(scope,s,null,a)))},o&&o.payload?a.send(JSON.stringify(o.payload)):a.send(),s)throw s;return n}}])});